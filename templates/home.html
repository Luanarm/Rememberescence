<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask Cohere App</title>
</head>
<body>

  {% if session %}
    <h1>Welcome {{ session.userinfo.name }}!</h1>
    <p><a href="/logout">Logout</a></p>
    {% else %}
    <h1>Welcome to Rememberescence</h1>
    <p><a href="/login">Login to get started!</a></p>
    {% endif %}

    

  <h1>Flask Cohere App</h1>
  
  <form id="generateForm">
    <label>
      How old are you?
      <input type="text" id="age" />
    </label>
    <br />

    <label>
      Where did you grow up?
      <input type="text" id="location" />
    </label>
    <br />
    
    <label>
      Who were your childhood friends?
      <input type="text" id="friends" />
    </label>
    <br />

    <label>
      What were your childhood interests/hobbies:
      <input type="text" id="interests" />
    </label>
    <br />

    <button type="button" onclick="generateContent()">Generate</button>
  </form>

  <div id="resultContainer"></div>

  <script>
    function generateContent() {
      var interests = document.getElementById("interests").value;
      var location = document.getElementById("location").value;
      var friends = document.getElementById("friends").value;
      var age = document.getElementById("age").value;

      fetch('/generate', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ age, location, friends, interests }),
      })
      .then(response => response.json())
      .then(data => {
        console.log('Data received:', data);
        document.getElementById("resultContainer").innerHTML = '<h2>Generated Content:</h2><p>' + data.generated_content + '</p>';
      })
      .catch(error => console.error('Error:', error));
    }
  </script>

  

</body>
</html>