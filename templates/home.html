<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask Cohere App</title>
    <link href="https://cdn.tailwindcss.com/3.0.7/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500">
    <nav class="flex items-center justify-between flex-wrap bg-teal-500 p-6">
      <div class="flex items-center flex-shrink-0 text-white mr-6">
        <img src="logo-url" alt="logo" class="h-8 w-8 mr-2"/> <!-- replace 'logo-url' with the URL of your logo -->
        <span class="font-semibold text-xl tracking-tight">Logo</span>
      </div>
      <div class="block lg:hidden">
        <button class="flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white">
          <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v15z"/></svg>
        </button>
      </div>
      <div class="w-full block flex-grow lg:flex lg:items-center lg:w-auto">
        <div class="text-sm lg:flex-grow">
          <a href="#home" class="block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4">
            Home
          </a>
          <a href="#login" class="block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4">
            Log-in
          </a>
          <a href="#about" class="block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white">
            About Us
          </a>
        </div>
      </div>
    </nav>

    <div class="content p-6">
      {% if session %}
        <h1>Welcome {{ session.userinfo.name }}!</h1>
        <p><a href="/logout">Logout</a></p>
      {% else %}
        <h1>Welcome to Rememberescence</h1>
        <p><a href="/login">Login to get started!</a></p>
      {% endif %}

      <h1>Flask Cohere App</h1>

      <form id="generateForm">
        <label>
          How old are you?
          <input type="text" id="age" />
        </label>
        <br />

        <label>
          Where did you grow up?
          <input type="text" id="location" />
        </label>
        <br />
        
        <label>
          Who were your childhood friends?
          <input type="text" id="friends" />
        </label>
        <br />

        <label>
          What were your childhood interests/hobbies:
          <input type="text" id="interests" />
        </label>
        <br />

        <button type="button" onclick="generateContent()">Generate</button>
      </form>

      <div id="resultContainer"></div>
    </div>

    <script>
      function generateContent() {
        var interests = document.getElementById("interests").value;
        var location = document.getElementById("location").value;
        var friends = document.getElementById("friends").value;
        var age = document.getElementById("age").value;

        fetch('/generate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ age, location, friends, interests }),
        })
        .then(response => response.json())
        .then(data => {
          console.log('Data received:', data);
          document.getElementById("resultContainer").innerHTML = '<h2>Generated Content:</h2><p>' + data.generated_content + '</p>';
        })
        .catch(error => console.error('Error:', error));
      }
    </script>
</body>
</html>
